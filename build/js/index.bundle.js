!function(){"use strict";var e=function(e,n,t=!1){const o=document.querySelector(e),s=document.getElementById(n),i=o.querySelector(".close-modal");let l=null,r=null;function c(){document.body.classList.remove("scroll-block")}function d(){o.close(),c(),t&&l&&null!==r&&(l.innerHTML=r,a())}function a(){const e=o.querySelector(".contacts__form");e&&e.addEventListener("submit",(async n=>{n.preventDefault();const t=e.querySelector('input[placeholder="Ваше Имя"]'),o=e.querySelector('input[placeholder="Номер телефона"]'),s=e.querySelector(".phone-error"),i=e.querySelector('button[type="submit"]'),r=t.value.trim(),c=o.value.trim();if(s.style.display="none",o.style.borderColor="",!r||!c)return void alert("Пожалуйста, заполните все поля.");if(!/^\+?\d{7,15}$/.test(c))return s.style.display="block",void(o.style.borderColor="red");i.disabled=!0;const a=i.innerHTML;i.innerHTML='<span class="spinner" style="\n        display:inline-block;\n        width:18px;\n        height:18px;\n        border:2px solid #fff;\n        border-top:2px solid #78c081;\n        border-radius:50%;\n        animation: spin 0.8s linear infinite;\n      "></span>';try{const e=new FormData;e.append("name",r),e.append("phone",c);const n=await fetch("https://formsubmit.co/ajax/aksi1234@yandex.ru",{method:"POST",body:e,headers:{Accept:"application/json"}}),t=await n.json();if(!n.ok||"true"!==t.success)throw new Error(t.message||"Ошибка при отправке.");l.innerHTML='\n            <div style="padding: 40px 20px; text-align: center;">\n              <p style="font-size: 20px; font-weight: 600; color: #495e4c;">\n                Успешно отправлено!\n              </p>\n            </div>\n          ',setTimeout((()=>{d()}),2e3)}catch(e){alert("Ошибка: "+e.message),i.disabled=!1,i.innerHTML=a}}))}t&&(l=o.querySelector(".contacts__content-2"),r=l?l.innerHTML:null),s.addEventListener("click",(function(){o.showModal(),document.body.classList.add("scroll-block")})),i.addEventListener("click",d),o.addEventListener("click",(e=>{e.target.closest(".dialog__inner")||e.target!==o||d()})),o.addEventListener("cancel",c),t&&a()};window.addEventListener("scroll",(()=>{const e=document.querySelector(".header__top"),n=document.getElementById("header-btn-1"),t=window.innerWidth;window.scrollY>820&&t>768?(e.classList.add("fixed"),n.classList.add("btn-nav--fixed")):(e.classList.remove("fixed"),n.classList.remove("btn-nav--fixed"))})),function(){const e=document.querySelector(".mobile-nav-btn"),n=document.querySelector(".mobile-nav");e.addEventListener("click",(()=>{n.classList.toggle("mobile-nav--open"),e.classList.toggle("mobile-nav-btn--active"),document.body.classList.toggle("no-scroll")}))}(),e(".dialog-1","header-btn-1"),e(".dialog-2","header-btn-2",!0)}();