!function(){"use strict";function e(e,t,n){const o=e.querySelector('input[placeholder="Ваше Имя"]'),s=e.querySelector('input[placeholder="Номер телефона"]'),c=/^\+?\d{7,15}$/;function r(){const e=o.value.trim(),r=s.value.trim(),i=c.test(r);e&&i?t.classList.add("btn--active"):t.classList.remove("btn--active"),n.style.display=r&&!i?"block":"none"}o.addEventListener("input",r),s.addEventListener("input",r),r()}function t(n,o,s,c=null){const r=n.querySelector('input[placeholder="Ваше Имя"]'),i=n.querySelector('input[placeholder="Номер телефона"]'),l=n.querySelector(".phone-error"),a=n.querySelector('button[type="submit"]');e(n,a,l),n.addEventListener("submit",(async d=>{d.preventDefault();const u=r.value.trim(),v=i.value.trim();if(l.style.display="none",i.style.borderColor="",!u||!v)return void alert("Пожалуйста, заполните все поля.");if(!/^\+?\d{7,15}$/.test(v))return l.style.display="block",l.textContent="Номер некорректный",void(i.style.borderColor="red");a.disabled=!0,a.classList.remove("active");const m=a.innerHTML;a.innerHTML='<span class="spinner" style="\n      display:inline-block;\n      width:18px;\n      height:18px;\n      border:2px solid #fff;\n      border-top:2px solid #78c081;\n      border-radius:50%;\n      animation: spin 0.8s linear infinite;\n    "></span>';try{const e=new FormData;e.append("name",u),e.append("phone",v);const n=await fetch("https://formsubmit.co/ajax/aksi1234@yandex.ru",{method:"POST",body:e,headers:{Accept:"application/json"}}),r=await n.json();if(!n.ok||"true"!==r.success)throw new Error(r.message||"Ошибка при отправке.");o.innerHTML='\n          <div style="padding: 40px 20px; text-align: center;">\n            <p style="font-size: 20px; font-weight: 600; color: #495e4c;">\n              Успешно отправлено!\n            </p>\n          </div>\n        ',setTimeout((()=>{o.innerHTML=s,c&&c();const e=o.querySelector(".form");e&&t(e,o,s,c)}),2e3)}catch(t){alert("Ошибка: "+t.message),a.disabled=!1,a.innerHTML=m,e(n,a,l)}}))}document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".cta__form.form");e&&t(e,e,e.innerHTML)}));var n=function(e,n,o=!1){const s=document.querySelector(e),c=document.getElementById(n),r=s.querySelector(".close-modal");let i=null,l=null;function a(){document.body.classList.remove("scroll-block")}function d(){s.close(),a(),o&&i&&null!==l&&(i.innerHTML=l,u())}function u(){const e=s.querySelector(".form");e&&t(e,i,l,d)}o&&(i=s.querySelector(".contacts__content-2"),l=i?i.innerHTML:null),c.addEventListener("click",(function(){s.showModal(),document.body.classList.add("scroll-block")})),r.addEventListener("click",d),s.addEventListener("click",(e=>{e.target.closest(".dialog__inner")||e.target!==s||d()})),s.addEventListener("cancel",a),o&&u()};window.addEventListener("scroll",(()=>{const e=document.querySelector(".header__top"),t=document.getElementById("header-btn-1"),n=window.innerWidth;window.scrollY>820&&n>768?(e.classList.add("fixed"),t.classList.add("btn-nav--fixed")):(e.classList.remove("fixed"),t.classList.remove("btn-nav--fixed"))})),function(){const e=document.querySelector(".mobile-nav-btn"),t=document.querySelector(".mobile-nav");e.addEventListener("click",(()=>{t.classList.toggle("mobile-nav--open"),e.classList.toggle("mobile-nav-btn--active"),document.body.classList.toggle("no-scroll")}))}(),n(".dialog-1","header-btn-1"),n(".dialog-2","header-btn-2",!0),n(".dialog-2","comfort-btn",!0),function(){const e=document.querySelectorAll(".services__tab"),t=document.querySelectorAll(".services__content");e.forEach((n=>{n.addEventListener("click",(()=>{const o=n.dataset.tab;e.forEach((e=>e.classList.remove("services__tab--active"))),document.querySelectorAll(`.services__tab[data-tab="${o}"]`).forEach((e=>{e.classList.add("services__tab--active")})),t.forEach((e=>{e.classList.remove("services__content--active"),e.dataset.tab===o&&e.classList.add("services__content--active")}))}))}))}()}();